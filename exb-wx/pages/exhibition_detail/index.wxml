<!-- 展览详情页面 -->
<view class="container">
  <!-- 顶部导航栏 -->
  <!-- https://wechat-miniprogram.github.io/weui/docs/icon.html#icon-%E5%88%97%E8%A1%A8 -->
  <!-- <view class="nav-bar">
    <button class="nav-btn" bindtap="goBack">
      <text class="icon">arrow_back</text>
    </button>
    <text class="nav-title" wx:if="{{showTitle}}">展览详情</text>
    <view class="nav-right">
      <button class="nav-btn" bindtap="toggleFavorite">
        <text class="icon">{{isFavorite ? 'favorite' : 'favorite_border'}}</text>
      </button>
      <button class="nav-btn" bindtap="shareExhibition">
        <text class="icon">share</text>
      </button>
    </view>
  </view> -->

  <!-- 滚动内容区域 -->
  <scroll-view class="content" scroll-y="true" bindscroll="onScroll" scroll-top="{{scrollTop}}">
    <!-- 展览封面图 -->
    <view class="cover-container">
      <image class="cover-img" src="https://wp1.telecomsh.cn/minio/museum/media/2026/01/14/a7df8f5f16c6470ea0a983a9cb7c67d8.jpeg" mode="aspectFill"></image>
      <view class="cover-gradient"></view>
    </view>

    <!-- 展览信息 -->
    <view class="info-section">
      <view class="title-section">
        <text class="exhibition-title">文艺复兴：伟大的大师们</text>
        <view class="tag-container">
          <text class="tag tag-primary">特展</text>
          <text class="tag tag-secondary">油画</text>
          <text class="tag tag-secondary">历史</text>
        </view>
      </view>

      <view class="divider"></view>

      <!-- 展览详情 -->
      <view class="detail-list">
        <view class="detail-item">
          <view class="icon-container">
            <mp-icon type="field" icon="info" color="#4299f0" size="{{30}}"></mp-icon>
          </view>
          <view class="detail-content">
            <text class="label">展览时间</text>
            <text class="value">2023.10.01 - 2024.01.15</text>
            <!-- <text class="sub-value">周二至周日 09:00 - 17:00</text> -->
          </view>
        </view>

        <view class="detail-item">
          <view class="icon-container">
            <mp-icon type="field" icon="location" color="#4299f0" size="{{30}}"></mp-icon>
          </view>
          <view class="detail-content">
            <text class="label">展览地点</text>
            <text class="value">西翼画廊 A厅</text>
          </view>
        </view>

        <view class="detail-item">
          <view class="icon-container">
            <mp-icon type="field" icon="contacts" color="#4299f0" size="{{30}}"></mp-icon>
          </view>
          <view class="detail-content">
            <text class="label">主办方</text>
            <view class="curator-info">
              <text class="value">Maria Rossi</text>
            </view>
          </view>
        </view>
      </view>

      <!-- 展览介绍 -->
      <view class="intro-section">
        <text class="section-title">展览介绍</text>
        <text class="intro-text">{{introText}}</text>
        <button class="read-more-btn" bindtap="toggleIntro" style="margin-left: 0rpx;">
          <text>{{showFullIntro ? '收起' : '阅读更多'}}</text>
          <mp-icon type="field" icon="{{showFullIntro ? 'back' : 'arrow'}}" color="#4299f0" size="{{10}}"></mp-icon>
        </button>
      </view>

      <!-- 主要展品 -->
      <view class="collections-section">
        <view class="section-header">
          <text class="section-title">主要展品</text>
        </view>
        
        <view class="collections-grid">
          <view class="collection-item" wx:for="{{collections}}" wx:key="index" bindtap="viewCollectionDetail">
            <view class="collection-img-container">
              <image class="collection-img" src="{{item.image}}" mode="widthFix"></image>
              <view class="audio-icon" wx:if="{{item.hasAudio}}">
                <mp-icon type="field" icon="voice" color="white" size="{{30}}"></mp-icon>
              </view>
            </view>
            <text class="collection-name">{{item.name}}</text>
            <text class="collection-artist">{{item.artist}}</text>
          </view>
        </view>
        
        <!-- <view class="loading-indicator" wx:if="{{isLoading}}">
          <text class="icon loading-spin">progress_activity</text>
        </view> -->
      </view>
    </view>
  </scroll-view>

  <!-- 底部操作栏 -->
  <view class="bottom-bar">
    <button class="action-btn" bindtap="startAudioGuide" style="width: 100%;">
      <mp-icon type="field" icon="play2" color="gray" size="{{40}}"></mp-icon>
      <text>语音导览</text>
    </button>
  </view>
</view>